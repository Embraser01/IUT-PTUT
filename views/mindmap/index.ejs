<div id="mindmap">
    <div style="position:fixed;z-index:10;top:80px;left:5px;">
        <!--<button disabled id="">Out: New node</button>
        <button disabled id="">Out: Select node</button>
        <button disabled id="">Out: Unselect node</button>
        <button disabled id="">Out: Force unselect</button>
        <button id="out_modify">Out: Modify node</button>
        <button disabled id="">Out: Modify nodes</button>-->
        <button id="out_delete">Out: Delete node</button>
    </div>

    <div style="position:fixed;z-index:10;bottom:10px;right:5px;">
 <!--       <button id="in_new">In: New node</button>
        <button id="in_select">In: Select node</button>
        <button id="in_unselect">In: Unselect node</button>
        <button id="">In: Force loose node selection</button>
        <button id="in_modify">In: Modify node</button>
        <button id="in_delete">In: Delete node</button>-->
        <button id="redraw">Force redraw</button>
    </div>
	
	<div id="editBox" >
		<h3>Ã‰dition d'un noeud</h3>

		<form id="editBoxForm">

			<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
				<input class="mdl-textfield__input" type="text" id="editBox_label">
				<label style="font-weight:bold;" class="mdl-textfield__label" for="editBox_label">Label</label>
			</div>

			<b>Format</b>
			<label class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="editBox_bold">
				<input type="checkbox" id="editBox_bold" class="mdl-icon-toggle__input" name="font_bold" value="enable">
				<i class="mdl-icon-toggle__label material-icons">format_bold</i>
			</label>
			<label class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="editBox_italic">
				<input type="checkbox" id="editBox_italic" class="mdl-icon-toggle__input" name="font_italic" value="enable">
				<i class="mdl-icon-toggle__label material-icons">format_italic</i>
			</label>
			<label class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="editBox_underline">
				<input type="checkbox" id="editBox_underline" class="mdl-icon-toggle__input" name="font_underline" value="enable">
				<i class="mdl-icon-toggle__label material-icons">format_underlined</i>
			</label>
			<label class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="editBox_strike">
				<input type="checkbox" id="editBox_strike" class="mdl-icon-toggle__input" name="font_underline" value="enable">
				<i class="mdl-icon-toggle__label material-icons">format_strikethrough</i>
			</label>

		</form>
	</div>

    <svg xmlns="http://www.w3.org/2000/svg" id="container" width="100%"
         height="100%" style="background-color: #eceff1;">

    </svg>

</div>

<script src="/js/ignore/app.js"></script>
<script>
    window.onload = function () {

        var Mindmap = new MindmapFrame(document.getElementById('container'));

        window.onmousedown = Mindmap.eventManager.on;
        window.onmouseup = Mindmap.eventManager.on;
        window.onmousemove = Mindmap.eventManager.on;
        window.onwheel = Mindmap.eventManager.on;
        window.onmousewheel = Mindmap.eventManager.on;
        window.ondblclick = Mindmap.eventManager.on;

/*

        document.getElementById('out_modify').onclick = function () {
            if (Mindmap.getSelectedNode() != null)
                Mindmap.getSelectedNode().editNode(mindmap.worker, 'Edited node', {
                    "font": {
                        "weight": "bold",
                        "style": "italic",
                        "decoration": "strike"
                    }
                }, true);
        };*/

        document.getElementById('out_delete').onclick = function () {
            if (Mindmap.getSelectedNode() != null)
                Mindmap.deleteSelectedNode();
        };

        document.getElementById('redraw').onclick = function () {
            Mindmap.drawMap();
        };
/*

        document.getElementById('in_new').onclick = function () {

            var parent_id = (Mindmap.getSelectedNode() == null) ? Mindmap.rootNode.id : Mindmap.getSelectedNode().id;

            var style = {
                order: 1,
                dx: 1,
                folded: false,
                container: {
                    kind: "rectangle",
                    borderThickness: "0",
                    borderColor: "#263238",
                    background: "white",
                    radius: "7"
                },
                font: {
                    family: "sans-serif",
                    size: "24",
                    color: "#006064",
                    weight: "bold ",
                    style: "italic ",
                    decoration: "none",
                    align: "right"
                },
                parentBranch: {
                    color: "#42a5f5"
                },
                unifiedChildren: {
                    dx: false,
                    container: false,
                    font: false,
                    parentBranch: false
                }
            };

            mindmap.ioManager.out.newNode(parent_id, null, null, style);
        }

        document.getElementById('in_select').onclick = function () {


            if (mindmap.workers[2] == null || mindmap.workers[2] == 4)
                mindmap.ioManager.in.selectNode(2, 1);
            else
                mindmap.ioManager.in.selectNode(2, 4);

            mindmap.ioManager.in.selectNode(2, mindmap.workers[2]);
        }

        document.getElementById('in_unselect').onclick = function () {
            mindmap.ioManager.in.unselectNode(2, mindmap.workers[2]);
        }

        document.getElementById('in_modify').onclick = function () {
            mindmap.ioManager.in.editNode(2, {
                id: mindmap.workers[2],
                textContent: "Edited by other",
                style: {font: {color: "pink"}}
            });

        }

        document.getElementById('in_delete').onclick = function () {
            mindmap.ioManager.in.deleteNode(2, 1);
        }
*/

    }
</script>